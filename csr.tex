%!tikz editor 1.0
\documentclass{article}
\usepackage{tikz}
\usepackage[graphics, active, tightpage]{preview}
\PreviewEnvironment{tikzpicture}

%!tikz preamble begin

%!tikz preamble end


\begin{document}
\begin{figure}
%!tikz source begin
\begin{tikzpicture}

\usetikzlibrary{snakes}

\foreach \x in {0,0.5,1,1.5}
\draw [black,fill=red!70] (\x,0) rectangle (\x+0.5,1);

\node[left] at (0,0.5) {left\_size};

\node at (0.25,0.5) {3};
\node at (0.75,0.5) {4};
\node at (1.25,0.5) {2};
\node at (1.75,0.5) {7};

\foreach \x in {0,0.5,1,1.5}
\draw [black,fill=red!70] (\x,-0.1) rectangle (\x+0.5,-1.1);

\node[left] at (0,-0.6) {left\_offset};

\node at (0.25,-0.6) {0};
\node at (0.75,-0.6) {3};
\node at (1.25,-0.6) {7};
\node at (1.75,-0.6) {9};

\draw[snake=brace] (0,1.125)--(2,1.125);
\node at (1.25, 1.5) {left\_nonzero\_size};

\draw (0,-2.5) grid[xstep=0.5,ystep=0.5] (7,-3);
\node[left] at (0,-2.75) {left\_data};

\draw (0,-3.1) grid[xstep=0.5] (7,-3.6);
\draw (0,-3.1)--(7,-3.1);
\draw (0,-3.6)--(7,-3.6);
\node[left] at (0,-3.35) {left\_index};

\draw[->] (0.25,-1.125)--(0.25,-2.5);
\draw[->] (0.75,-1.125)--(1.75,-2.5);
\draw[->] (1.25,-1.125)--(3.75,-2.5);
\draw[->] (1.75,-1.125)--(4.75,-2.5);

\end{tikzpicture}
%!tikz source end

\end{figure}
\end{document}
